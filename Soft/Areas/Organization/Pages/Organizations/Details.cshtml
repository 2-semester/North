@page
@using North.Aids
@using North.Data.Event
@using North.Data.EventList
@using North.Pages.Extensions
@model North.Soft.Areas.Organization.Pages.Organizations.DetailsModel

@{
    Layout = "_Details";
    const string events = "/Event/Events";
    var organizationId = GetMember.Name<EventData>(x => x.OrganizationId);

    const string eventLists = "/EventList/EventLists";
    var eventId = GetMember.Name<EventListData>(x => x.EventId);
}
<body>
    @Html.DisplayControlsFor(model => model.Item.Id)
    @Html.DisplayControlsFor(model => model.Item.Name)
    @Html.DisplayControlsFor(model => model.Item.Definition)
    @Html.DisplayControlsFor(model => model.Item.ValidFrom)
    @Html.DisplayControlsFor(model => model.Item.ValidTo)
</body>

@section Details {
    @Html.HypertextLinkFor(string.Empty, new Link("Näita üritusi",
        $"{events}/Index?FixedFilter={organizationId}&FixedValue={Model.Item.Id}"))
    @Html.HypertextLinkFor(string.Empty, new Link("Näita ürituste sarju",
        $"{eventLists}/Index?FixedFilter={eventId}&FixedValue={Model.Item.Id}"))
}